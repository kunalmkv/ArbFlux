<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #34495e; }
      .label { font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; fill: #2c3e50; }
      .component { font-family: Arial, sans-serif; font-size: 11px; fill: #ffffff; }
      .layer-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #ffffff; }
      .arrow { stroke: #7f8c8d; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .data-flow { stroke: #3498db; stroke-width: 2; fill: none; marker-end: url(#data-arrow); }
      .control-flow { stroke: #e74c3c; stroke-width: 2; fill: none; marker-end: url(#control-arrow); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d" />
    </marker>
    <marker id="data-arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3498db" />
    </marker>
    <marker id="control-arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#ecf0f1"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title">DeFi Arbitrage Bot - System Architecture</text>
  
  <!-- User Interface Layer -->
  <rect x="50" y="60" width="1100" height="80" fill="#3498db" rx="5"/>
  <text x="600" y="85" text-anchor="middle" class="layer-title">User Interface Layer</text>
  
  <rect x="80" y="100" width="120" height="30" fill="#2980b9" rx="3"/>
  <text x="140" y="120" text-anchor="middle" class="component">Web Dashboard</text>
  
  <rect x="240" y="100" width="120" height="30" fill="#2980b9" rx="3"/>
  <text x="300" y="120" text-anchor="middle" class="component">REST API Server</text>
  
  <rect x="400" y="100" width="120" height="30" fill="#2980b9" rx="3"/>
  <text x="460" y="120" text-anchor="middle" class="component">CLI Interface</text>
  
  <!-- Application Layer -->
  <rect x="50" y="160" width="1100" height="80" fill="#e74c3c" rx="5"/>
  <text x="600" y="185" text-anchor="middle" class="layer-title">Application Layer</text>
  
  <rect x="80" y="200" width="120" height="30" fill="#c0392b" rx="3"/>
  <text x="140" y="220" text-anchor="middle" class="component">Main Application</text>
  
  <rect x="240" y="200" width="120" height="30" fill="#c0392b" rx="3"/>
  <text x="300" y="220" text-anchor="middle" class="component">Trading Bot</text>
  
  <rect x="400" y="200" width="120" height="30" fill="#c0392b" rx="3"/>
  <text x="460" y="220" text-anchor="middle" class="component">Price Monitoring</text>
  
  <!-- Business Logic Layer -->
  <rect x="50" y="260" width="1100" height="80" fill="#f39c12" rx="5"/>
  <text x="600" y="285" text-anchor="middle" class="layer-title">Business Logic Layer</text>
  
  <rect x="80" y="300" width="120" height="30" fill="#e67e22" rx="3"/>
  <text x="140" y="320" text-anchor="middle" class="component">Strategy Engine</text>
  
  <rect x="240" y="300" width="120" height="30" fill="#e67e22" rx="3"/>
  <text x="300" y="320" text-anchor="middle" class="component">Risk Manager</text>
  
  <rect x="400" y="300" width="120" height="30" fill="#e67e22" rx="3"/>
  <text x="460" y="320" text-anchor="middle" class="component">Execution Engine</text>
  
  <!-- Data Layer -->
  <rect x="50" y="360" width="1100" height="80" fill="#27ae60" rx="5"/>
  <text x="600" y="385" text-anchor="middle" class="layer-title">Data Layer</text>
  
  <rect x="80" y="400" width="120" height="30" fill="#229954" rx="3"/>
  <text x="140" y="420" text-anchor="middle" class="component">DEX Price Service</text>
  
  <rect x="240" y="400" width="120" height="30" fill="#229954" rx="3"/>
  <text x="300" y="420" text-anchor="middle" class="component">Web3 Manager</text>
  
  <rect x="400" y="400" width="120" height="30" fill="#229954" rx="3"/>
  <text x="460" y="420" text-anchor="middle" class="component">Block Price Manager</text>
  
  <!-- Infrastructure Layer -->
  <rect x="50" y="460" width="1100" height="80" fill="#9b59b6" rx="5"/>
  <text x="600" y="485" text-anchor="middle" class="layer-title">Infrastructure Layer</text>
  
  <rect x="80" y="500" width="120" height="30" fill="#8e44ad" rx="3"/>
  <text x="140" y="520" text-anchor="middle" class="component">SQLite Database</text>
  
  <rect x="240" y="500" width="120" height="30" fill="#8e44ad" rx="3"/>
  <text x="300" y="520" text-anchor="middle" class="component">Logging System</text>
  
  <rect x="400" y="500" width="120" height="30" fill="#8e44ad" rx="3"/>
  <text x="460" y="520" text-anchor="middle" class="component">Price Cache</text>
  
  <!-- External Services -->
  <rect x="50" y="560" width="1100" height="80" fill="#34495e" rx="5"/>
  <text x="600" y="585" text-anchor="middle" class="layer-title">External Services</text>
  
  <rect x="80" y="600" width="120" height="30" fill="#2c3e50" rx="3"/>
  <text x="140" y="620" text-anchor="middle" class="component">Ethereum Blockchain</text>
  
  <rect x="240" y="600" width="120" height="30" fill="#2c3e50" rx="3"/>
  <text x="300" y="620" text-anchor="middle" class="component">Uniswap V2</text>
  
  <rect x="400" y="600" width="120" height="30" fill="#2c3e50" rx="3"/>
  <text x="460" y="620" text-anchor="middle" class="component">Sushiswap</text>
  
  <rect x="560" y="600" width="120" height="30" fill="#2c3e50" rx="3"/>
  <text x="620" y="620" text-anchor="middle" class="component">Infura RPC</text>
  
  <rect x="720" y="600" width="120" height="30" fill="#2c3e50" rx="3"/>
  <text x="780" y="620" text-anchor="middle" class="component">Alchemy RPC</text>
  
  <!-- Data Flow Arrows -->
  <!-- UI to Application -->
  <line x1="300" y1="130" x2="300" y2="200" class="data-flow"/>
  <line x1="460" y1="130" x2="140" y2="200" class="data-flow"/>
  
  <!-- Application to Business Logic -->
  <line x1="140" y1="230" x2="140" y2="300" class="control-flow"/>
  <line x1="300" y1="230" x2="300" y2="300" class="control-flow"/>
  <line x1="460" y1="230" x2="460" y2="400" class="data-flow"/>
  
  <!-- Business Logic to Data -->
  <line x1="140" y1="330" x2="140" y2="400" class="data-flow"/>
  <line x1="300" y1="330" x2="300" y2="400" class="data-flow"/>
  <line x1="460" y1="330" x2="460" y2="400" class="data-flow"/>
  
  <!-- Data to Infrastructure -->
  <line x1="140" y1="430" x2="140" y2="500" class="data-flow"/>
  <line x1="300" y1="430" x2="300" y2="500" class="data-flow"/>
  <line x1="460" y1="430" x2="460" y2="500" class="data-flow"/>
  
  <!-- Data to External Services -->
  <line x1="140" y1="430" x2="140" y2="600" class="data-flow"/>
  <line x1="300" y1="430" x2="300" y2="600" class="data-flow"/>
  <line x1="460" y1="430" x2="460" y2="600" class="data-flow"/>
  
  <!-- External Services to Data -->
  <line x1="140" y1="630" x2="140" y2="430" class="data-flow"/>
  <line x1="300" y1="630" x2="300" y2="430" class="data-flow"/>
  <line x1="460" y1="630" x2="460" y2="430" class="data-flow"/>
  <line x1="620" y1="630" x2="300" y2="430" class="data-flow"/>
  <line x1="780" y1="630" x2="300" y2="430" class="data-flow"/>
  
  <!-- Legend -->
  <rect x="900" y="100" width="250" height="120" fill="#ffffff" stroke="#bdc3c7" stroke-width="2" rx="5"/>
  <text x="1025" y="125" text-anchor="middle" class="subtitle">Legend</text>
  
  <line x1="920" y1="140" x2="950" y2="140" class="data-flow"/>
  <text x="960" y="145" class="label">Data Flow</text>
  
  <line x1="920" y1="160" x2="950" y2="160" class="control-flow"/>
  <text x="960" y="165" class="label">Control Flow</text>
  
  <line x1="920" y1="180" x2="950" y2="180" class="arrow"/>
  <text x="960" y="185" class="label">General Flow</text>
  
  <rect x="920" y="200" width="20" height="15" fill="#3498db" rx="2"/>
  <text x="950" y="212" class="label">UI Components</text>
  
  <rect x="920" y="220" width="20" height="15" fill="#e74c3c" rx="2"/>
  <text x="950" y="232" class="label">Application Logic</text>
</svg>
